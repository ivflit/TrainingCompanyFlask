{% extends 'base.html' %}

{% block title %}Manage Trainers{% endblock %}

{% block content %}
<!-- Page Heading -->
<section class="section">
  <div class="container">
    <h1 class="title is-2">Manage Trainers</h1>

    <!-- Form to Add Trainers -->
    <form method="POST" class="box" action="{{ url_for('trainers_template') }}">
      <div class="field">
        <label class="label">Name</label>
        <div class="control">
          <input class="input" type="text" name="name" placeholder="Name" required>
        </div>
      </div>

      <div class="field">
        <label class="label">Preferred Cities</label>
        <div class="control">
          <input class="input" type="text" name="preferred_cities" placeholder="Preferred Cities (comma separated)" required>
        </div>
      </div>

      <div class="field">
        <label class="label">Skills</label>
        <div class="control">
          <input class="input" type="text" name="skills" placeholder="Skills (comma separated)" required>
        </div>
      </div>

      <div class="field">
        <div class="control">
          <button class="button is-primary" type="submit">Add Trainer</button>
        </div>
      </div>
    </form>

    <!-- Registered Trainers List -->
    <h2 class="title is-4">Registered Trainers</h2>
    <ul>
      {% if trainers %}
        {% for trainer in trainers %}
          <li class="box">
            <p>
              <strong>{{ trainer.name }}</strong> (ID: {{ trainer.id }})<br>
              <strong>Preferred Cities:</strong> {{ ', '.join(trainer.preferred_cities) }}<br>
              <strong>Skills:</strong> {{ ', '.join(trainer.skill_areas) }}
            </p>
            <form method="POST" action="{{ url_for('trainers_template', trainer_id=trainer.trainer_id) }}">
              <input type="hidden" name="_method" value="DELETE">
              <button type="submit" class="button is-danger">Delete</button>
            </form>
          </li>
        {% endfor %}
      {% else %}
        <p>No trainers registered yet.</p>
      {% endif %}
    </ul>
  </div>
</section>
<div class="control">
  <a href="{{ url_for('index_template') }}" class="button is-link">
    Back to Home
  </a>
</div>
{% endblock %}
